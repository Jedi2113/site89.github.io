<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DOOM — Site-89</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600;800&family=Roboto:wght@300;400,500&family=Roboto+Mono&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link rel="stylesheet" href="/assets/css/main.css">

  <!-- Theme System -->
  <script type="module">
    import { ThemeManager } from '/assets/js/theme.js';
    ThemeManager.init();
  </script>

  <style>
    .page-hero { 
      padding: 2.5rem 1rem; 
      text-align:center; 
      background: linear-gradient(90deg, rgba(176,0,0,0.1), transparent); 
      border-bottom: 1px solid rgba(176,0,0,0.2); 
    }
    .page-hero .hero-title { 
      font-family: var(--font-head); 
      font-size: 2.5rem; 
      color: #ff6b6b; 
      margin-bottom: 0.35rem;
      text-shadow: 0 0 10px rgba(255, 107, 107, 0.5);
    }
    .page-hero .hero-sub { 
      color: var(--text-light); 
      opacity: 0.9; 
    }

    .game-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 1.5rem;
      padding: 2rem 1rem;
    }

    .dosbox-container { 
      width: 100%; 
      max-width: 960px; 
      aspect-ratio: 4 / 3;
      border: 3px solid #ff6b6b;
      border-radius: 8px;
      background: #000;
      box-shadow: 0 0 30px rgba(255, 107, 107, 0.4);
      position: relative;
    }

    .dosbox-container canvas {
      width: 100% !important;
      height: 100% !important;
      display: block;
    }
    
    .dosbox-container > .dosbox-overlay { 
      background: url(https://js-dos.com/cdn/DOOM.png);
      background-size: cover;
      background-position: center;
    }

    @media (max-width: 768px) {
      .dosbox-container {
        max-width: 100%;
      }
    }

    .game-btn {
      padding: 0.8rem 1.5rem;
      background: #ff6b6b;
      color: #fff;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-weight: 600;
      font-size: 1rem;
      transition: all 0.2s ease;
      box-shadow: 0 0 10px rgba(255, 107, 107, 0.3);
    }

    .game-btn:hover {
      background: #ff5252;
      transform: scale(1.05);
      box-shadow: 0 0 20px rgba(255, 107, 107, 0.5);
    }

    .game-info {
      text-align: center;
      color: var(--text-light);
      max-width: 800px;
      line-height: 1.6;
      background: var(--bg-card);
      padding: 1.5rem;
      border-radius: 8px;
      border: 1px solid rgba(255, 107, 107, 0.2);
    }

    .game-info h3 {
      color: #ff6b6b;
      margin-top: 0;
    }

    .warning-box {
      background: rgba(176, 0, 0, 0.1);
      border: 2px solid #ff6b6b;
      border-radius: 8px;
      padding: 1rem;
      margin: 1rem 0;
      color: var(--text-light);
    }

    .warning-box strong {
      color: #ff6b6b;
    }

    .controls-list {
      text-align: left;
      max-width: 600px;
      margin: 1rem auto;
    }

    .controls-list dt {
      color: #ff6b6b;
      font-weight: 600;
      margin-top: 0.5rem;
    }

    .controls-list dd {
      margin-left: 1.5rem;
      opacity: 0.9;
    }

    .mobile-block {
      display: none;
    }

    @media (max-width: 768px), (pointer: coarse) {
      .dosbox-container, .game-info, .game-controls {
        display: none !important;
      }

      .mobile-block {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        text-align: center;
        padding: 3rem 2rem;
        margin: 3rem auto;
        max-width: 500px;
        background: rgba(139, 0, 0, 0.1);
        border: 2px solid #8b0000;
        border-radius: 8px;
      }

      .mobile-block i {
        font-size: 4rem;
        color: #8b0000;
        margin-bottom: 1.5rem;
      }

      .mobile-block h2 {
        color: #8b0000;
        margin-bottom: 1rem;
        font-size: 1.8rem;
      }

      .mobile-block p {
        font-size: 1.1rem;
        opacity: 0.9;
        line-height: 1.6;
      }
    }

    @media (max-width: 768px) {
      .dosbox-container {
        height: 400px;
      }
    }
  </style>
</head>
<body>
  <div data-include="/components/header.html"></div>
  <div data-include="/components/navbar.html"></div>

  <section class="page-hero">
    <div class="hero-title"><i class="fa-solid fa-skull-crossbones" style="margin-right:0.5rem;"></i>DOOM</div>
    <div class="hero-sub">Rip and tear through hell. For research purposes only.</div>
  </section>

  <section class="content">
    <div class="mobile-block">
      <i class="fa-solid fa-mobile-screen-button"></i>
      <h2>Sorry!</h2>
      <p>DOOM won't work on your mobile device. This game requires a desktop computer with a keyboard to play.</p>
      <p style="margin-top:1rem;opacity:0.8;">Please visit this page on a desktop or laptop computer.</p>
    </div>

    <div class="game-container">
      
      <div class="warning-box">
        <strong><i class="fa-solid fa-triangle-exclamation"></i> NOTICE:</strong> This is a high-performance simulation requiring significant computational resources. Click inside the game area to capture mouse control. Press ESC to release.
      </div>

      <div id="dosbox" class="dosbox-container"></div>
      
      <button onclick="toggleFullscreen();" class="game-btn">
        <i class="fa-solid fa-expand" style="margin-right:0.5rem;"></i>Fullscreen Mode
      </button>

      <div class="game-info">
        <h3>About DOOM</h3>
        <p>Created by id Software in 1993, DOOM is the classic first-person shooter that defined the genre. Fight your way through hordes of demons from hell across multiple episodes. This is the original shareware version running in your browser via DOSBox emulation.</p>
        
        <div class="controls-list">
          <h4 style="color:#ff6b6b;margin-bottom:0.5rem;">Controls:</h4>
          <dl>
            <dt>Arrow Keys (↑ ↓ ← →)</dt>
            <dd>Move forward/backward, turn left/right</dd>
            
            <dt>W</dt>
            <dd>Use / Open doors</dd>
            
            <dt>S</dt>
            <dd>Fire weapon</dd>
            
            <dt>Space</dt>
            <dd>Speed on (Run)</dd>
            
            <dt>Alt</dt>
            <dd>Strafe on</dd>
            
            <dt>A, D</dt>
            <dd>Strafe left/right</dd>
            
            <dt>1-7</dt>
            <dd>Select weapon</dd>
            
            <dt>Tab</dt>
            <dd>Map</dd>
            
            <dt>ESC</dt>
            <dd>Menu / Release mouse</dd>
          </dl>
        </div>

        <p style="opacity:0.8;font-size:0.9rem;margin-top:1rem;">
          <strong>Platform:</strong> PC | <strong>Age Rating:</strong> +0 | <strong>Category:</strong> FPS
        </p>

        <p style="opacity:0.8;font-size:0.9rem;margin-top:1rem;">
          <strong>Note:</strong> The game may take a moment to load. Click inside the game window to start playing. Use fullscreen mode for the best experience.
        </p>
      </div>
    </div>
  </section>

  <div data-include="/components/footer.html"></div>

  <script src="/assets/js/include.js"></script>
  <script type="module" src="/assets/js/auth.js"></script>
  
  <script type="text/javascript" src="https://js-dos.com/cdn/js-dos-api.js"></script>
  <script type="text/javascript">
    var dosbox = new Dosbox({
      id: "dosbox",
      onload: function (dosbox) {
        dosbox.run("https://js-dos.com/cdn/upload/DOOM-@evilution.zip", "./DOOM/DOOM.EXE");
      },
      onrun: function (dosbox, app) {
        console.log("App '" + app + "' is running");
      }
    });

    function toggleFullscreen() {
      const container = document.getElementById('dosbox');
      if (!document.fullscreenElement) {
        container.requestFullscreen().catch(err => {
          console.log('Fullscreen error:', err);
        });
      } else {
        document.exitFullscreen();
      }
    }
  </script>

</body>
</html>
